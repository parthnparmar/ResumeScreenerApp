<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üåü Dream Job Day Out - Resume Screener</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    :root {
      --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --secondary-gradient: linear-gradient(45deg, #ff6b6b, #feca57, #48dbfb, #ff9ff3);
      --glass-bg: rgba(255, 255, 255, 0.1);
      --glass-border: rgba(255, 255, 255, 0.2);
      --text-primary: #ffffff;
      --text-secondary: rgba(255, 255, 255, 0.8);
      --shadow-light: 0 8px 32px rgba(31, 38, 135, 0.37);
      --shadow-heavy: 0 20px 60px rgba(0, 0, 0, 0.3);
    }
    
    [data-theme="dark"] {
      --primary-gradient: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      --glass-bg: rgba(0, 0, 0, 0.3);
      --glass-border: rgba(255, 255, 255, 0.1);
    }
    
    body {
      font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--primary-gradient);
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
    }
    
    /* Network Animation Background */
    .network-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      overflow: hidden;
    }
    
    .network-canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    
    /* Floating particles */
    .particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }
    
    .particle {
      position: absolute;
      background: rgba(255, 255, 255, 0.6);
      border-radius: 50%;
      animation: float-particle 8s ease-in-out infinite;
    }
    
    @keyframes float-particle {
      0%, 100% { transform: translateY(0px) translateX(0px) rotate(0deg); opacity: 0.6; }
      25% { transform: translateY(-30px) translateX(20px) rotate(90deg); opacity: 1; }
      50% { transform: translateY(-60px) translateX(-10px) rotate(180deg); opacity: 0.8; }
      75% { transform: translateY(-30px) translateX(-30px) rotate(270deg); opacity: 1; }
    }
    
    /* Main container with glassmorphism */
    .container {
      position: relative;
      z-index: 10;
      max-width: 1400px;
      margin: 0 auto;
      padding: 20px;
    }
    
    /* Top navigation bar */
    .nav-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: 20px;
      padding: 15px 30px;
      margin-bottom: 30px;
      box-shadow: var(--shadow-light);
      animation: slideDown 1s ease-out;
    }
    
    .logo {
      font-size: 1.5rem;
      font-weight: 700;
      background: var(--secondary-gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .nav-controls {
      display: flex;
      gap: 15px;
      align-items: center;
    }
    
    .theme-toggle, .export-btn {
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      color: var(--text-primary);
      padding: 10px 20px;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      font-size: 0.9rem;
    }
    
    .theme-toggle:hover, .export-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }
    
    /* Enhanced header */
    .header {
      text-align: center;
      margin-bottom: 50px;
      animation: slideDown 1s ease-out 0.2s both;
    }
    
    .header h1 {
      font-size: 4rem;
      font-weight: 800;
      color: var(--text-primary);
      text-shadow: 2px 2px 20px rgba(0,0,0,0.5);
      margin-bottom: 15px;
      background: var(--secondary-gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      position: relative;
    }
    
    .header h1::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 4px;
      background: var(--secondary-gradient);
      border-radius: 2px;
      animation: pulse 2s ease-in-out infinite;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 0.6; transform: translateX(-50%) scaleX(1); }
      50% { opacity: 1; transform: translateX(-50%) scaleX(1.2); }
    }
    
    .subtitle {
      font-size: 1.3rem;
      color: var(--text-secondary);
      margin-bottom: 20px;
      font-weight: 300;
    }
    
    /* Main content grid */
    .main-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
      margin-bottom: 50px;
    }
    
    /* Enhanced input section */
    .input-section {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: 25px;
      padding: 40px;
      box-shadow: var(--shadow-heavy);
      transform: translateY(50px);
      opacity: 0;
      animation: slideUp 1s ease-out 0.4s forwards;
      position: relative;
      overflow: hidden;
    }
    
    .input-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--secondary-gradient);
      animation: shimmer 3s ease-in-out infinite;
    }
    
    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    
    .input-section h3 {
      color: var(--text-primary);
      margin-bottom: 25px;
      font-size: 1.6rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .textarea-wrapper {
      position: relative;
      margin-bottom: 30px;
    }
    
    textarea {
      width: 100%;
      min-height: 180px;
      border: 2px solid var(--glass-border);
      border-radius: 20px;
      padding: 25px;
      font-size: 16px;
      font-family: inherit;
      resize: vertical;
      transition: all 0.4s ease;
      background: rgba(255, 255, 255, 0.05);
      color: var(--text-primary);
      backdrop-filter: blur(10px);
    }
    
    textarea::placeholder {
      color: var(--text-secondary);
    }
    
    textarea:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 30px rgba(102, 126, 234, 0.4);
      transform: scale(1.02);
      background: rgba(255, 255, 255, 0.1);
    }
    
    /* Enhanced submit button */
    .submit-btn {
      background: var(--secondary-gradient);
      color: white;
      border: none;
      padding: 18px 45px;
      font-size: 1.3rem;
      font-weight: 600;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.4s ease;
      box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
      position: relative;
      overflow: hidden;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .submit-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s;
    }
    
    .submit-btn:hover::before {
      left: 100%;
    }
    
    .submit-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 50px rgba(102, 126, 234, 0.6);
    }
    
    .submit-btn:active {
      transform: translateY(-2px);
    }
    
    .submit-btn.loading {
      pointer-events: none;
      animation: pulse-loading 1.5s ease-in-out infinite;
    }
    
    @keyframes pulse-loading {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    .submit-btn.loading::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 24px;
      height: 24px;
      margin: -12px 0 0 -12px;
      border: 3px solid transparent;
      border-top: 3px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* Upload functionality styles */
    .upload-options {
      margin-bottom: 20px;
    }
    
    .upload-tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }
    
    .tab-btn {
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      color: var(--text-secondary);
      padding: 12px 24px;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      font-size: 0.9rem;
      font-weight: 500;
    }
    
    .tab-btn.active {
      background: var(--secondary-gradient);
      color: white;
      border-color: transparent;
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }
    
    .tab-btn:hover:not(.active) {
      background: rgba(255, 255, 255, 0.1);
      color: var(--text-primary);
    }
    
    .tab-content {
      transition: all 0.3s ease;
    }
    
    .tab-content.hidden {
      display: none;
    }
    
    .file-upload-wrapper {
      position: relative;
      margin-bottom: 20px;
    }
    
    .file-input {
      position: absolute;
      opacity: 0;
      width: 100%;
      height: 100%;
      cursor: pointer;
    }
    
    .file-label {
      display: flex;
      align-items: center;
      gap: 20px;
      padding: 30px;
      border: 2px dashed var(--glass-border);
      border-radius: 20px;
      background: rgba(255, 255, 255, 0.05);
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }
    
    .file-label:hover {
      border-color: #667eea;
      background: rgba(255, 255, 255, 0.1);
      transform: scale(1.02);
    }
    
    .upload-icon {
      font-size: 3rem;
      opacity: 0.7;
    }
    
    .upload-text {
      flex: 1;
    }
    
    .upload-title {
      display: block;
      color: var(--text-primary);
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 5px;
    }
    
    .upload-subtitle {
      display: block;
      color: var(--text-secondary);
      font-size: 0.9rem;
    }
    
    .file-info {
      margin-top: 15px;
      padding: 15px;
      background: rgba(46, 204, 113, 0.1);
      border: 1px solid rgba(46, 204, 113, 0.3);
      border-radius: 10px;
      color: #2ecc71;
      font-weight: 500;
      display: none;
    }
    
    .file-info.show {
      display: block;
      animation: slideDown 0.3s ease;
    }
    
    /* Enhanced results section */
    .results-section {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: 25px;
      padding: 40px;
      text-align: center;
      box-shadow: var(--shadow-heavy);
      transform: translateY(50px);
      opacity: 0;
      animation: slideUp 1s ease-out 0.6s forwards;
      position: relative;
      overflow: hidden;
    }
    
    .results-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--secondary-gradient);
      animation: shimmer 3s ease-in-out infinite 1s;
    }
    
    .score-display {
      font-size: 5rem;
      font-weight: 900;
      margin: 30px 0;
      background: var(--secondary-gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      transition: all 0.5s ease;
      text-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
    }
    
    .score-label {
      font-size: 1.6rem;
      color: var(--text-primary);
      margin-bottom: 20px;
      font-weight: 600;
    }
    
    .progress-container {
      position: relative;
      margin: 30px 0;
    }
    
    .progress-bar {
      width: 100%;
      height: 25px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      overflow: hidden;
      box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.2);
    }
    
    .progress-fill {
      height: 100%;
      background: var(--secondary-gradient);
      border-radius: 15px;
      transition: width 2.5s cubic-bezier(0.4, 0, 0.2, 1);
      width: 0%;
      position: relative;
      overflow: hidden;
    }
    
    .progress-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      animation: progress-shine 2s ease-in-out infinite;
    }
    
    @keyframes progress-shine {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    
    .feedback {
      margin-top: 30px;
      padding: 25px;
      border-radius: 20px;
      font-size: 1.2rem;
      font-weight: 500;
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.6s ease;
      backdrop-filter: blur(10px);
    }
    
    .feedback.show {
      opacity: 1;
      transform: translateY(0);
    }
    
    .feedback.excellent { 
      background: linear-gradient(135deg, #2ecc71, #27ae60); 
      color: white; 
      box-shadow: 0 10px 30px rgba(46, 204, 113, 0.4);
    }
    .feedback.good { 
      background: linear-gradient(135deg, #f39c12, #e67e22); 
      color: white; 
      box-shadow: 0 10px 30px rgba(243, 156, 18, 0.4);
    }
    .feedback.average { 
      background: linear-gradient(135deg, #3498db, #2980b9); 
      color: white; 
      box-shadow: 0 10px 30px rgba(52, 152, 219, 0.4);
    }
    .feedback.poor { 
      background: linear-gradient(135deg, #e74c3c, #c0392b); 
      color: white; 
      box-shadow: 0 10px 30px rgba(231, 76, 60, 0.4);
    }
    
    /* Enhanced features grid */
    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 25px;
      margin-top: 50px;
    }
    
    .feature-card {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      padding: 35px;
      border-radius: 20px;
      text-align: center;
      box-shadow: var(--shadow-light);
      transition: all 0.4s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }
    
    .feature-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--secondary-gradient);
      transform: scaleX(0);
      transition: transform 0.4s ease;
    }
    
    .feature-card:hover::before {
      transform: scaleX(1);
    }
    
    .feature-card:hover {
      transform: translateY(-15px);
      box-shadow: var(--shadow-heavy);
      background: rgba(255, 255, 255, 0.15);
    }
    
    .feature-icon {
      font-size: 3.5rem;
      margin-bottom: 20px;
      filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.3));
    }
    
    .feature-card h4 {
      color: var(--text-primary);
      font-size: 1.3rem;
      margin-bottom: 15px;
      font-weight: 600;
    }
    
    .feature-card p {
      color: var(--text-secondary);
      line-height: 1.6;
      font-size: 1rem;
    }
    
    /* Additional features */
    .stats-section {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 40px 0;
    }
    
    .stat-card {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      padding: 25px;
      border-radius: 15px;
      text-align: center;
      transition: all 0.3s ease;
    }
    
    .stat-number {
      font-size: 2.5rem;
      font-weight: 700;
      background: var(--secondary-gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .stat-label {
      color: var(--text-secondary);
      font-size: 0.9rem;
      margin-top: 5px;
    }
    
    /* Animations */
    @keyframes slideDown {
      from { transform: translateY(-50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    @keyframes slideUp {
      from { transform: translateY(50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    /* Responsive design */
    @media (max-width: 768px) {
      .main-content { grid-template-columns: 1fr; }
      .header h1 { font-size: 2.8rem; }
      .container { padding: 15px; }
      .nav-bar { padding: 12px 20px; }
      .input-section, .results-section { padding: 25px; }
      .score-display { font-size: 3.5rem; }
    }
    
    @media (max-width: 480px) {
      .header h1 { font-size: 2.2rem; }
      .nav-controls { flex-direction: column; gap: 10px; }
      .features { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body data-theme="light">
  <!-- Network Background -->
  <div class="network-bg">
    <canvas class="network-canvas" id="networkCanvas"></canvas>
  </div>
  
  <!-- Floating Particles -->
  <div class="particles" id="particles"></div>
  
  <div class="container">
    <!-- Navigation Bar -->
    <div class="nav-bar">
      <div class="logo">üåü Dream Job Matcher</div>
      <div class="nav-controls">
        <button class="theme-toggle" id="themeToggle">üåô Dark Mode</button>
        <button class="export-btn" id="exportBtn">üìä Export Results</button>
      </div>
    </div>
    
    <!-- Header -->
    <div class="header">
      <h1>Dream Job Day Out</h1>
      <p class="subtitle">Transform your career journey into an exciting adventure with AI-powered matching!</p>
    </div>
    
    <!-- Stats Section -->
    <div class="stats-section">
      <div class="stat-card">
        <div class="stat-number" id="totalScans">0</div>
        <div class="stat-label">Total Scans</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="avgScore">0%</div>
        <div class="stat-label">Average Score</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="bestMatch">0%</div>
        <div class="stat-label">Best Match</div>
      </div>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
      <div class="input-section">
        <h3>üìÑ Your Resume Story</h3>
        <div class="upload-options">
          <div class="upload-tabs">
            <button type="button" class="tab-btn active" data-tab="text">‚úçÔ∏è Text</button>
            <button type="button" class="tab-btn" data-tab="pdf">üìé PDF Upload</button>
          </div>
        </div>
        
        <div class="tab-content" id="textTab">
          <div class="textarea-wrapper">
            <textarea id="resumeText" placeholder="Share your professional journey here... Tell us about your skills, experience, and achievements that make you shine! ‚ú®"></textarea>
          </div>
        </div>
        
        <div class="tab-content hidden" id="pdfTab">
          <div class="file-upload-wrapper">
            <input type="file" id="resumeFile" accept=".pdf" class="file-input">
            <label for="resumeFile" class="file-label">
              <div class="upload-icon">üìé</div>
              <div class="upload-text">
                <span class="upload-title">Drop your PDF here or click to browse</span>
                <span class="upload-subtitle">PDF files only, max 10MB</span>
              </div>
            </label>
            <div class="file-info" id="fileInfo"></div>
          </div>
        </div>
        
        <h3>üéØ Dream Job Description</h3>
        <div class="textarea-wrapper">
          <textarea id="jobDescription" placeholder="Paste the job description for your dream role here... Let's see how well you match! üöÄ"></textarea>
        </div>
        
        <button type="button" id="submitBtn" class="submit-btn">
          üé™ Start the Magic!
        </button>
      </div>
      
      <div class="results-section">
        <div class="score-label">üèÜ Your Match Score</div>
        <div class="score-display" id="scoreDisplay">--</div>
        <div class="progress-container">
          <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
          </div>
        </div>
        <div class="feedback" id="feedback"></div>
      </div>
    </div>
    
    <!-- Enhanced Features -->
    <div class="features">
      <div class="feature-card" onclick="showTip('ai')">
        <div class="feature-icon">ü§ñ</div>
        <h4>AI-Powered Analysis</h4>
        <p>Advanced machine learning algorithms analyze your resume compatibility with precision</p>
      </div>
      <div class="feature-card" onclick="showTip('instant')">
        <div class="feature-icon">‚ö°</div>
        <h4>Instant Results</h4>
        <p>Get your match score in seconds with detailed feedback and improvement suggestions</p>
      </div>
      <div class="feature-card" onclick="showTip('improve')">
        <div class="feature-icon">üìà</div>
        <h4>Smart Insights</h4>
        <p>Receive personalized recommendations to boost your score and land your dream job</p>
      </div>
      <div class="feature-card" onclick="showTip('export')">
        <div class="feature-icon">üìä</div>
        <h4>Export & Track</h4>
        <p>Save your results and track your progress over time with detailed analytics</p>
      </div>
    </div>
  </div>

  <script>
    // Network Animation
    class NetworkAnimation {
      constructor(canvas) {
        this.canvas = canvas;
        this.ctx = canvas.getContext('2d');
        this.particles = [];
        this.connections = [];
        this.mouse = { x: 0, y: 0 };
        
        this.resize();
        this.createParticles();
        this.animate();
        
        window.addEventListener('resize', () => this.resize());
        window.addEventListener('mousemove', (e) => {
          this.mouse.x = e.clientX;
          this.mouse.y = e.clientY;
        });
      }
      
      resize() {
        this.canvas.width = window.innerWidth;
        this.canvas.height = window.innerHeight;
      }
      
      createParticles() {
        const particleCount = Math.min(80, Math.floor(window.innerWidth / 20));
        this.particles = [];
        
        for (let i = 0; i < particleCount; i++) {
          this.particles.push({
            x: Math.random() * this.canvas.width,
            y: Math.random() * this.canvas.height,
            vx: (Math.random() - 0.5) * 0.5,
            vy: (Math.random() - 0.5) * 0.5,
            radius: Math.random() * 2 + 1,
            opacity: Math.random() * 0.5 + 0.2
          });
        }
      }
      
      animate() {
        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
        
        // Update particles
        this.particles.forEach(particle => {
          particle.x += particle.vx;
          particle.y += particle.vy;
          
          if (particle.x < 0 || particle.x > this.canvas.width) particle.vx *= -1;
          if (particle.y < 0 || particle.y > this.canvas.height) particle.vy *= -1;
          
          // Mouse interaction
          const dx = this.mouse.x - particle.x;
          const dy = this.mouse.y - particle.y;
          const distance = Math.sqrt(dx * dx + dy * dy);
          
          if (distance < 100) {
            particle.x -= dx * 0.01;
            particle.y -= dy * 0.01;
          }
        });
        
        // Draw connections
        this.ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
        this.ctx.lineWidth = 1;
        
        for (let i = 0; i < this.particles.length; i++) {
          for (let j = i + 1; j < this.particles.length; j++) {
            const dx = this.particles[i].x - this.particles[j].x;
            const dy = this.particles[i].y - this.particles[j].y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            
            if (distance < 120) {
              this.ctx.beginPath();
              this.ctx.moveTo(this.particles[i].x, this.particles[i].y);
              this.ctx.lineTo(this.particles[j].x, this.particles[j].y);
              this.ctx.globalAlpha = (120 - distance) / 120 * 0.3;
              this.ctx.stroke();
            }
          }
        }
        
        // Draw particles
        this.particles.forEach(particle => {
          this.ctx.beginPath();
          this.ctx.arc(particle.x, particle.y, particle.radius, 0, Math.PI * 2);
          this.ctx.fillStyle = `rgba(255, 255, 255, ${particle.opacity})`;
          this.ctx.globalAlpha = particle.opacity;
          this.ctx.fill();
        });
        
        this.ctx.globalAlpha = 1;
        requestAnimationFrame(() => this.animate());
      }
    }
    
    // Initialize network animation
    const networkCanvas = document.getElementById('networkCanvas');
    const network = new NetworkAnimation(networkCanvas);
    
    // Create floating particles
    function createFloatingParticles() {
      const particlesContainer = document.getElementById('particles');
      const particleCount = 15;
      
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.cssText = `
          width: ${Math.random() * 6 + 2}px;
          height: ${Math.random() * 6 + 2}px;
          left: ${Math.random() * 100}%;
          top: ${Math.random() * 100}%;
          animation-delay: ${Math.random() * 8}s;
          animation-duration: ${Math.random() * 4 + 6}s;
        `;
        particlesContainer.appendChild(particle);
      }
    }
    
    createFloatingParticles();
    
    // Theme toggle
    const themeToggle = document.getElementById('themeToggle');
    let isDark = false;
    
    themeToggle.addEventListener('click', () => {
      isDark = !isDark;
      document.body.setAttribute('data-theme', isDark ? 'dark' : 'light');
      themeToggle.textContent = isDark ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';
    });
    
    // Stats tracking
    let stats = {
      totalScans: parseInt(localStorage.getItem('totalScans') || '0'),
      scores: JSON.parse(localStorage.getItem('scores') || '[]'),
      bestMatch: parseInt(localStorage.getItem('bestMatch') || '0')
    };
    
    function updateStats() {
      document.getElementById('totalScans').textContent = stats.totalScans;
      document.getElementById('avgScore').textContent = 
        stats.scores.length ? Math.round(stats.scores.reduce((a, b) => a + b, 0) / stats.scores.length) + '%' : '0%';
      document.getElementById('bestMatch').textContent = stats.bestMatch + '%';
    }
    
    updateStats();
    
    // Main functionality
    const submitBtn = document.getElementById('submitBtn');
    const scoreDisplay = document.getElementById('scoreDisplay');
    const progressFill = document.getElementById('progressFill');
    const feedback = document.getElementById('feedback');
    const exportBtn = document.getElementById('exportBtn');
    
    // Upload functionality
    const tabBtns = document.querySelectorAll('.tab-btn');
    const textTab = document.getElementById('textTab');
    const pdfTab = document.getElementById('pdfTab');
    const resumeFile = document.getElementById('resumeFile');
    const fileInfo = document.getElementById('fileInfo');
    let selectedFile = null;
    
    // Tab switching
    tabBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        const tab = btn.dataset.tab;
        
        tabBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        
        if (tab === 'text') {
          textTab.classList.remove('hidden');
          pdfTab.classList.add('hidden');
          selectedFile = null;
        } else {
          textTab.classList.add('hidden');
          pdfTab.classList.remove('hidden');
        }
      });
    });
    
    // File upload handling
    resumeFile.addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (file) {
        if (file.type !== 'application/pdf') {
          showNotification('Please select a PDF file only! üìÑ', 'error');
          resumeFile.value = '';
          return;
        }
        
        if (file.size > 10 * 1024 * 1024) {
          showNotification('File size must be less than 10MB! üìè', 'error');
          resumeFile.value = '';
          return;
        }
        
        selectedFile = file;
        fileInfo.innerHTML = `üìÑ ${file.name} (${(file.size / 1024 / 1024).toFixed(2)} MB)`;
        fileInfo.classList.add('show');
      }
    });
    
    submitBtn.addEventListener('click', async () => {
      const resumeText = document.getElementById('resumeText').value.trim();
      const jobDescription = document.getElementById('jobDescription').value.trim();
      const activeTab = document.querySelector('.tab-btn.active').dataset.tab;
      
      if (!jobDescription) {
        showNotification('Please provide a job description! üéØ', 'warning');
        return;
      }
      
      if (activeTab === 'text' && !resumeText) {
        showNotification('Please enter your resume text! ‚úçÔ∏è', 'warning');
        return;
      }
      
      if (activeTab === 'pdf' && !selectedFile) {
        showNotification('Please upload a PDF file! üìÑ', 'warning');
        return;
      }
      
      // Start loading animation
      submitBtn.classList.add('loading');
      submitBtn.textContent = 'Analyzing...';
      
      // Reset results
      scoreDisplay.textContent = '--';
      progressFill.style.width = '0%';
      feedback.classList.remove('show');
      
      try {
        let response;
        
        if (activeTab === 'pdf') {
          // Handle PDF upload
          const formData = new FormData();
          formData.append('ResumeFile', selectedFile);
          formData.append('JobDescription', jobDescription);
          
          response = await fetch('/api/resume/score-pdf', {
            method: 'POST',
            body: formData
          });
        } else {
          // Handle text input
          response = await fetch('/api/resume/score', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ ResumeText: resumeText, JobDescription: jobDescription })
          });
        }
        
        if (response.ok) {
          const data = await response.json();
          let score = data.score || data.Score || 0;
          
          // Ensure score is treated as percentage (0-100)
          if (score <= 1.0) {
            score = score * 100; // Convert decimal to percentage
          }
          score = Math.round(score * 10) / 10; // Round to 1 decimal place
          
          // Update stats
          stats.totalScans++;
          stats.scores.push(score);
          if (score > stats.bestMatch) stats.bestMatch = score;
          
          localStorage.setItem('totalScans', stats.totalScans.toString());
          localStorage.setItem('scores', JSON.stringify(stats.scores));
          localStorage.setItem('bestMatch', stats.bestMatch.toString());
          
          updateStats();
          
          // Animate score reveal
          setTimeout(() => {
            animateScore(score);
            showFeedback(score);
          }, 500);
        } else {
          const errorText = await response.text();
          showNotification(`Error: ${errorText || 'Something went wrong!'} üîÑ`, 'error');
        }
      } catch (error) {
        showNotification('Network error. Please check your connection! üåê', 'error');
      } finally {
        // Reset button
        setTimeout(() => {
          submitBtn.classList.remove('loading');
          submitBtn.textContent = 'üé™ Start the Magic!';
        }, 1000);
      }
    });
    
    function animateScore(score) {
      let current = 0;
      const increment = score / 60;
      const timer = setInterval(() => {
        current += increment;
        if (current >= score) {
          current = score;
          clearInterval(timer);
        }
        scoreDisplay.textContent = Math.round(current * 10) / 10 + '%';
        progressFill.style.width = Math.min(100, current) + '%';
      }, 30);
    }
    
    function showFeedback(score) {
      let message, className;
      
      if (score >= 80) {
        message = "üéâ Excellent match! You're perfect for this role!";
        className = 'excellent';
      } else if (score >= 60) {
        message = "üëç Good match! A few tweaks could make you even better!";
        className = 'good';
      } else if (score >= 40) {
        message = "üí™ Decent match! Some improvements could boost your chances!";
        className = 'average';
      } else {
        message = "üöÄ Room for growth! Let's work on enhancing your profile!";
        className = 'poor';
      }
      
      feedback.textContent = message;
      feedback.className = `feedback ${className}`;
      
      setTimeout(() => {
        feedback.classList.add('show');
      }, 500);
    }
    
    // Export functionality
    exportBtn.addEventListener('click', () => {
      const currentScore = scoreDisplay.textContent;
      if (currentScore === '--') {
        showNotification('No results to export yet! Run an analysis first. üìä', 'warning');
        return;
      }
      
      const exportData = {
        timestamp: new Date().toISOString(),
        score: currentScore,
        feedback: feedback.textContent,
        stats: stats
      };
      
      const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `resume-analysis-${new Date().toISOString().split('T')[0]}.json`;
      a.click();
      URL.revokeObjectURL(url);
      
      showNotification('Results exported successfully! üìÅ', 'success');
    });
    
    function showTip(type) {
      const tips = {
        ai: "Our AI analyzes keywords, skills, and experience to give you the most accurate match score! üéØ",
        instant: "No waiting around! Get your results faster than you can say 'dream job'! ‚ö°",
        improve: "We don't just score - we help you improve with actionable insights! üìä",
        export: "Save your progress and track improvements over time! üìà"
      };
      showNotification(tips[type], 'info');
    }
    
    function showNotification(message, type) {
      const notification = document.createElement('div');
      const colors = {
        error: '#e74c3c',
        warning: '#f39c12',
        success: '#2ecc71',
        info: '#3498db'
      };
      
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${colors[type]};
        color: white;
        padding: 18px 28px;
        border-radius: 15px;
        box-shadow: 0 15px 35px rgba(0,0,0,0.3);
        z-index: 1000;
        animation: slideIn 0.5s ease;
        max-width: 350px;
        font-weight: 500;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255,255,255,0.2);
      `;
      notification.textContent = message;
      
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.animation = 'slideOut 0.5s ease';
        setTimeout(() => notification.remove(), 500);
      }, 4000);
    }
    
    // Add notification animations
    const style = document.createElement('style');
    style.textContent = `
      @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
      @keyframes slideOut {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(100%); opacity: 0; }
      }
    `;
    document.head.appendChild(style);
    
    // Interactive sparkle effects on mouse move
    document.addEventListener('mousemove', (e) => {
      if (Math.random() > 0.97) {
        createSparkle(e.clientX, e.clientY);
      }
    });
    
    function createSparkle(x, y) {
      const sparkle = document.createElement('div');
      sparkle.style.cssText = `
        position: fixed;
        left: ${x}px;
        top: ${y}px;
        width: 6px;
        height: 6px;
        background: radial-gradient(circle, #fff, transparent);
        border-radius: 50%;
        pointer-events: none;
        z-index: 1000;
        animation: sparkleAnim 1.2s ease-out forwards;
      `;
      
      document.body.appendChild(sparkle);
      setTimeout(() => sparkle.remove(), 1200);
    }
    
    const sparkleStyle = document.createElement('style');
    sparkleStyle.textContent = `
      @keyframes sparkleAnim {
        0% { transform: scale(0) rotate(0deg); opacity: 1; }
        50% { transform: scale(1.2) rotate(180deg); opacity: 0.8; }
        100% { transform: scale(0) rotate(360deg); opacity: 0; }
      }
    `;
    document.head.appendChild(sparkleStyle);
  </script>
</body>
</html>